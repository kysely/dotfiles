#!/bin/bash

echo ""
echo "Installing Vim environment settings..."

# INSTALL .VIMRC
cp ./.vimrc ~/.vimrc
echo "    Installed .vimrc config file"

# INSTALL SNIPPETS
mkdir -p ~/.vim/snippets
cp ./snippets/* ~/.vim/snippets/
echo "    Installed Vim snippets"
echo ""

# INSTALL PLUGINS
# --- Pathogen
echo "    Installing Pathogen"
echo "        Downloading and installing..."
mkdir -p ~/.vim/autoload ~/.vim/bundle && \
curl -LSso ~/.vim/autoload/pathogen.vim https://tpo.pe/pathogen.vim

echo "    Installed Pathogen"
echo ""

# --- ConqueTerm
echo "    Installing ConqueTerm"
echo "        Downloading..."
curl -s "https://vim.sourceforge.io/scripts/download_script.php?src_id=16251" \
	>> ~/.vim/bundle/cq.tar.gz

echo "        Unzipping..."
tar xf ~/.vim/bundle/cq.tar.gz -C ~/.vim/bundle/
rm ~/.vim/bundle/cq.tar.gz
mv ~/.vim/bundle/conque_2.2 ~/.vim/bundle/conque

echo "    Installed ConqueTerm"
echo ""

## --- Bufferline
echo "    Installing Bufferline"
echo "        Cloning..."
git clone --quiet https://github.com/bling/vim-bufferline ~/.vim/bundle/vim-bufferline

echo "    Installed Bufferline"
echo ""

## --- CtrlP
echo "    Installing CtrlP"
echo "        Cloning..."
git clone --quiet https://github.com/ctrlpvim/ctrlp.vim.git ~/.vim/bundle/ctrlp.vim

echo "    Installed CtrlP"
echo ""

# -- Completor
if [ "$1" == "--completor" ]; then
	echo "    Installing Completor"
	echo "        Cloning..."
	mkdir -p ~/.vim/pack/completor/start
	cd ~/.vim/pack/completor/start
	git clone --quiet  https://github.com/maralla/completor.vim.git

	echo "        Installing Jedi..."
	python3 -m pip install jedi
	pip3 install jedi

	echo "    Installed Completor"
	echo ""
fi

